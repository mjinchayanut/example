# แอปพลิเคชันสแกนสินค้า

แอปพลิเคชันมือถือที่พัฒนาด้วย Flutter สำหรับสแกนและจัดการสินค้าคงคลังด้วยการสแกนบาร์โค้ด/คิวอาร์โค้ด

## คุณสมบัติหลัก

- **สแกนบาร์โค้ด/คิวอาร์โค้ด**: สแกนบาร์โค้ดหรือคิวอาร์โค้ดเพื่อค้นหาข้อมูลสินค้าได้อย่างรวดเร็ว
- **ค้นหาสินค้า**: ค้นหาสินค้าด้วยชื่อ, ยี่ห้อ, หมวดหมู่, บาร์โค้ด หรือหมายเลขซีเรียล
- **จัดการสินค้าคงคลัง**: เพิ่ม ดู และจัดการสินค้าคงคลัง
- **รองรับหลายอุปกรณ์**: ใช้งานได้ทั้งบนมือถือและเว็บเบราว์เซอร์
- **อัปเดตแบบเรียลไทม์**: ดูและจัดการสินค้าคงคลังแบบทันที

## สิ่งที่ต้องเตรียม

- Flutter SDK (เวอร์ชันล่าสุด)
- Node.js (เวอร์ชัน 14 ขึ้นไป)
- MongoDB (ติดตั้งบนเครื่องหรือใช้ MongoDB Atlas)
- อุปกรณ์ที่มีกล้อง (สำหรับสแกนบาร์โค้ด)

## การติดตั้ง

### ติดตั้งส่วน Backend

1. ไปที่ไดเรกทอรี `service`:
   ```bash
   cd service
   ```

2. ติดตั้งแพ็คเกจที่จำเป็น:
   ```bash
   npm install
   ```

3. ตั้งค่าตัวแปรสภาพแวดล้อม:
   - สร้างไฟล์ `.env` ในไดเรกทอรี `service`
   - เพิ่มการเชื่อมต่อ MongoDB:
     ```
     MONGODB_URI=mongodb://localhost:27017/product_db
     PORT=3000
     ```

4. เริ่มต้นเซิร์ฟเวอร์:
   ```bash
   node server.js
   ```
   เซิร์ฟเวอร์จะทำงานที่ `http://localhost:3000`

### ติดตั้งส่วน Frontend

1. ไปที่ไดเรกทอรีหลักของโปรเจค:
   ```bash
   cd ex_test
   ```

2. ติดตั้งแพ็คเกจที่จำเป็น:
   ```bash
   flutter pub get
   ```

3. รันแอปพลิเคชัน:
   ```bash
   flutter run
   ```

## จุดเชื่อมต่อ API

### ข้อมูลสินค้า

- `GET /api/products` - ดึงข้อมูลสินค้าทั้งหมดพร้อมการแบ่งหน้า
  - พารามิเตอร์:
    - `page` (ค่าเริ่มต้น: 1) - หมายเลขหน้า
    - `limit` (ค่าเริ่มต้น: 10) - จำนวนรายการต่อหน้า
    - `search` (ไม่บังคับ) - ค้นหาสินค้าด้วยคำค้นหา

- `GET /api/product/:identifier` - ค้นหาสินค้าด้วยบาร์โค้ดหรือหมายเลขซีเรียล
  - พารามิเตอร์:
    - `identifier`: บาร์โค้ดหรือหมายเลขซีเรียล

- `POST /api/product` - เพิ่มสินค้าใหม่
  - ข้อมูลที่ส่ง (JSON):
    ```json
    {
      "barcode": "string (จำเป็น)",
      "serial": "string (จำเป็น)",
      "name": "string (จำเป็น)",
      "brand": "string",
      "category": "string",
      "price": "number (จำเป็น)",
      "description": "string",
      "stock": "number"
    }
    ```

## โครงสร้างโปรเจค

```
.
├── ex_test/                # ส่วนของ Flutter แอปพลิเคชัน
│   ├── lib/
│   │   └── main.dart      # ไฟล์หลักของแอปพลิเคชัน
│   └── ...
└── service/               # ส่วนของ Backend
    ├── server.js          # เซิร์ฟเวอร์ Express.js
    └── package.json       # รายการแพ็คเกจของ Node.js
```

## ไลบรารี่ที่ใช้

### หน้าบ้าน (Flutter)
- `http`: สำหรับการเชื่อมต่อกับ API
- `simple_barcode_scanner`: สำหรับการสแกนบาร์โค้ด/คิวอาร์โค้ด

### หลังบ้าน (Node.js)
- `express`: เว็บเฟรมเวิร์ค
- `mongodb`: ไดรเวอร์สำหรับ MongoDB
- `cors`: ระบบจัดการการเข้าถึงข้ามโดเมน
- `dotenv`: จัดการตัวแปรสภาพแวดล้อม


